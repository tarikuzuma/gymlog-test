{% extends 'layouts/base.html' %}

{% block title %}{{user.full_name}} Stats{% endblock %}

{% block content %}
    <h1>User Stats</h1>
    <h2>{{ user.full_name }}</h2>
    <p><strong>Student ID:</strong> {{ user.student_id }}</p>
    <p><strong>PE Course:</strong> {{ user.pe_course }}</p>
    <p><strong>Enrolled Block:</strong> {{ user.enrolled_block }}</p>
    <p><strong>Current Status:</strong> {{ user.status }}</p>
    <p><strong>Last Gym Session:</strong> {% if user.last_gym %} {{ user.last_gym }} {% else %} N/A {% endif %}</p>
    <p><strong>Total Workout Time:</strong> {{ user.total_workout_time | round }} minutes</p>
    <p><strong>Total Workout Sessions:</strong> {{ user.completed_sessions }}</p>

    <div id="cal-heatmap"></div>
    <script src="https://unpkg.com/cal-heatmap/dist/cal-heatmap.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/cal-heatmap/dist/cal-heatmap.css">

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            console.log("Initializing Cal-Heatmap...");
            const cal = new CalHeatmap();
            cal.paint({
                itemSelector: "#cal-heatmap",
                range: 12, 
                domain: "month",
                subDomain: "day", 
                data: "/path/to/your/data",
                start: new Date(), 
                legend: [1, 3, 5, 10], 
                tooltip: true, 
                cellSize: 15 
            });
        });
    </script>

{% endblock %}
